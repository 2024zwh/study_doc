## 参考地址

[分享丨【算法题单】滑动窗口与双指针（定长/不定长/单序列/双序列/三指针/分组循环） - 讨论 - 力扣（LeetCode）](https://leetcode.cn/discuss/post/3578981/ti-dan-hua-dong-chuang-kou-ding-chang-bu-rzz7/)

> 下面出现过的例题都是做过的

## 滑动窗口问题

### 定长滑动窗口

#### 概念

> 用来解决数组或者字符中的子字符串（子数组的）一类的问题，用一个固定的长度的子串当做窗口

##### 思路:

- **初始化窗口**：首先确定窗口的大小 `k`，然后计算初始窗口（即数组或字符串的前 `k` 个元素）的相关值（如和、最大值、最小值等）。
- **滑动窗口**：从第 `k` 个元素开始，逐步向右移动窗口。每次移动都将窗口最右边的新元素加入窗口，并将窗口最左边的旧元素移出窗口。
- **更新结果**：根据题目要求，在每次滑动后更新需要的结果。例如，如果问题是找到最大和的子数组，则在每次滑动后比较当前窗口的和与之前记录的最大和，并更新最大和

#### 例题：

##### 基础：

[1456. 定长子串中元音的最大数目](https://leetcode.cn/problems/maximum-number-of-vowels-in-a-substring-of-given-length/)

[633. 子数组最大平均数 I](https://leetcode.cn/problems/maximum-average-subarray-i/)

[2090. 半径为 k 的子数组平均值](https://leetcode.cn/problems/k-radius-subarray-averages/)  ** 

[2379. 得到 K 个黑块的最少涂色次数](https://leetcode.cn/problems/minimum-recolors-to-get-k-consecutive-black-blocks/)

[2841. 几乎唯一子数组的最大和](https://leetcode.cn/problems/maximum-sum-of-almost-unique-subarray/)

[1423. 可获得的最大点数](https://leetcode.cn/problems/maximum-points-you-can-obtain-from-cards/) ** 

[1052. 爱生气的书店老板](https://leetcode.cn/problems/grumpy-bookstore-owner/)

##### 进阶：

[3439. 重新安排会议得到最多空余时间 I](https://leetcode.cn/problems/reschedule-meetings-for-maximum-free-time-i/)

[2134. 最少交换次数来组合所有的 1 II](https://leetcode.cn/problems/minimum-swaps-to-group-all-1s-together-ii/) 



## 不定长滑动窗口

> 不定长滑动窗口主要分为三类：求最长子数组，求最短子数组，求子数组个数。
>
> 注：滑动窗口相当于在维护一个队列。右指针的移动可以视作入队，左指针的移动可以视作出队。
>
> 对于每次从最左和最右边取，要用逆向思维

### 例题

#### 越短越合法/求最长/最大 相关

##### 基础

[3. 无重复字符的最长子串](https://leetcode.cn/problems/longest-substring-without-repeating-characters/) ** 基础

[3090. 每个字符最多出现两次的最长子字符串](https://leetcode.cn/problems/maximum-length-substring-with-two-occurrences/)

[1493. 删掉一个元素以后全为 1 的最长子数组](https://leetcode.cn/problems/longest-subarray-of-1s-after-deleting-one-element/) 

[3634. 使数组平衡的最少移除数目](https://leetcode.cn/problems/minimum-removals-to-balance-array/) 

[1208. 尽可能使字符串相等](https://leetcode.cn/problems/get-equal-substrings-within-budget/)

[904. 水果成篮](https://leetcode.cn/problems/fruit-into-baskets/)

[1695. 删除子数组的最大得分](https://leetcode.cn/problems/maximum-erasure-value/)

[2958. 最多 K 个重复元素的最长子数组](https://leetcode.cn/problems/length-of-longest-subarray-with-at-most-k-frequency/)

[2024. 考试的最大困扰度](https://leetcode.cn/problems/maximize-the-confusion-of-an-exam/) **有变形

[1004. 最大连续1的个数 III](https://leetcode.cn/problems/max-consecutive-ones-iii/)

[1658. 将 x 减到 0 的最小操作数](https://leetcode.cn/problems/minimum-operations-to-reduce-x-to-zero/) 

##### **进阶：**

[2730. 找到最长的半重复子字符串](https://leetcode.cn/problems/find-the-longest-semi-repetitive-substring/)

[2271. 毯子覆盖的最多白色砖块数](https://leetcode.cn/problems/maximum-white-tiles-covered-by-a-carpet/) **思想很有意思 

[2779. 数组的最大美丽值](https://leetcode.cn/problems/maximum-beauty-of-an-array-after-applying-operation/) ** 要思考分析

[1838. 最高频元素的频数](https://leetcode.cn/problems/frequency-of-the-most-frequent-element/)  ** 要看一下

[2516. 每种字符至少取 K 个](https://leetcode.cn/problems/take-k-of-each-character-from-left-and-right/) ** 逆向思维 + 滑动

[2831. 找出最长等值子数组](https://leetcode.cn/problems/find-the-longest-equal-subarray/) **分组+滑动



#### 越长越合法/求最短/最小 

**有点绕，要多学习

> 先确定窗口条件， 设置左右断点，对于不满足条件的进行左端点移动， 要弄清楚条件是什么

[209. 长度最小的子数组](https://leetcode.cn/problems/minimum-size-subarray-sum/)

[2904. 最短且字典序最小的美丽子字符串](https://leetcode.cn/problems/shortest-and-lexicographically-smallest-beautiful-string/)

[1234. 替换子串得到平衡字符串](https://leetcode.cn/problems/replace-the-substring-for-balanced-string/)  做完感觉自己脑袋笨笨哒

[2875. 无限数组的最短子数组](https://leetcode.cn/problems/minimum-size-subarray-in-infinite-array/) 上面的感觉+1 想不到方法

[最小覆盖子串](https://leetcode.cn/problems/minimum-window-substring/) 



#### 求子数组个数

##### 越短越好

> 一般要写 `ans += right - left + 1`
>
> 对于[left, right] 满足条件，所以 区间有 right - left + 1 个都满足

[713. 乘积小于 K 的子数组](https://leetcode.cn/problems/subarray-product-less-than-k/)

[3258. 统计满足 K 约束的子字符串数量 I](https://leetcode.cn/problems/count-substrings-that-satisfy-k-constraint-i/)

[2302. 统计得分小于 K 的子数组数目](https://leetcode.cn/problems/count-subarrays-with-score-less-than-k/)

[2762. 不间断子数组](https://leetcode.cn/problems/continuous-subarrays/)

[LCP 68. 美观的花束](https://leetcode.cn/problems/1GxJYY/)



##### 越长越好

> 一般要写 `ans += left`
>
> 内层循环结束后，[left,right] 这个子数组是不满足题目要求的，但在退出循环之前的最后一轮循环，[left−1,right] 是满足题目要求的。由于子数组越长，越能满足题目要求，所以除了 [left−1,right]，还有 [left−2,right],[left−3,right],…,[0,right] 都是满足要求的。也就是说，当右端点固定在 right 时，左端点在 0,1,2,…,left−1 的所有子数组都是满足要求的，这一共有 left 个
>

[1358. 包含所有三种字符的子字符串数目](https://leetcode.cn/problems/number-of-substrings-containing-all-three-characters/)

[2962. 统计最大元素出现至少 K 次的子数组](https://leetcode.cn/problems/count-subarrays-where-max-element-appears-at-least-k-times/)

[3325. 字符至少出现 K 次的子字符串 I](https://leetcode.cn/problems/count-substrings-with-k-frequency-characters-i/)

[2799. 统计完全子数组的数目](https://leetcode.cn/problems/count-complete-subarrays-in-an-array/)

[2537. 统计好子数组的数目](https://leetcode.cn/problems/count-the-number-of-good-subarrays/) 好好研究



##### 恰好型滑动窗口

> 例如，要计算有多少个元素和恰好等于 k 的子数组，可以把问题变成：
>
> - 计算有多少个元素和 ≥k 的子数组。
>
> - 计算有多少个元素和 >k，也就是 ≥k+1 的子数组。
>
> 答案就是元素和 ≥k 的子数组个数，减去元素和 ≥k+1 的子数组个数。这里把 > 转换成 ≥，从而可以把滑窗逻辑封装成一个函数 solve，然后用 solve(k)−solve(k+1) 计算，无需编写两份滑窗代码。
>
> 总结：「恰好」可以拆分成两个「至少」，也就是两个「越长越合法」的滑窗问题。
>
> 注：也可以把问题变成 ≤k 减去 ≤k−1，即两个「至多」。可根据题目选择合适的变形方式。
>
> 注：也可以把两个滑动窗口合并起来，维护同一个右端点 right 和两个左端点 left1  和 left2 ，我把这种写法叫做三指针滑动窗口



[930. 和相同的二元子数组](https://leetcode.cn/problems/binary-subarrays-with-sum/) 

[1248. 统计「优美子数组」](https://leetcode.cn/problems/count-number-of-nice-subarrays/) 

[3306. 元音辅音字符串计数 II](https://leetcode.cn/problems/count-of-substrings-containing-every-vowel-and-k-consonants-ii/) 

[992. K 个不同整数的子数组](https://leetcode.cn/problems/subarrays-with-k-different-integers/)

**选做的**

[825. 适龄的朋友](https://leetcode.cn/problems/friends-of-appropriate-ages/)（感觉很难）

